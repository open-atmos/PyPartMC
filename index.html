<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>PyPartMC API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Package <code>PyPartMC</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python"># pylint: disable=invalid-name,wrong-import-position
import os
from contextlib import contextmanager
from pathlib import Path
from collections import namedtuple

# https://github.com/diegoferigo/cmake-build-extension/blob/master/src/cmake_build_extension/__init__.py
@contextmanager
def __build_extension_env():
    cookies = []
    # https://docs.python.org/3/whatsnew/3.8.html#bpo-36085-whatsnew
    if hasattr(os, &#34;add_dll_directory&#34;):
        basepath = os.path.dirname(os.path.abspath(__file__))
        dllspath = os.path.join(basepath, &#39;..&#39;)
        os.environ[&#39;PATH&#39;] = dllspath + os.pathsep + os.environ[&#39;PATH&#39;]
        for path in os.environ.get(&#34;PATH&#34;, &#34;&#34;).split(os.pathsep):
            if path and Path(path).is_absolute() and Path(path).is_dir():
                cookies.append(os.add_dll_directory(path))
    try:
        yield
    finally:
        for cookie in cookies:
            cookie.close()

# TODO #113: 2 x loop over prefixes and units
si = namedtuple(&#34;SI&#34;, (
    &#34;m&#34;, &#34;cm&#34;, &#34;um&#34;,
    &#34;kg&#34;, &#34;g&#34;,
    &#34;s&#34;,
    &#34;K&#34;,
    &#34;Pa&#34;, &#34;hPa&#34;,
    &#34;mol&#34;
))(
    m=1., cm=.01, um=1e-6,
    kg=1., g=1e-3,
    s=1.,
    K=1.,
    Pa=1., hPa=100.,
    mol=1.
)
&#34;&#34;&#34; TODO #113 &#34;&#34;&#34;

with __build_extension_env():
    from _PyPartMC import *
    from _PyPartMC import __all__, __version__
    import _PyPartMC</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="PyPartMC.condense_equilib_particles"><code class="name flex">
<span>def <span class="ident">condense_equilib_particles</span></span>(<span>arg0: _PyPartMC.EnvState, arg1: _PyPartMC.AeroData, arg2: _PyPartMC.AeroState)</span>
</code></dt>
<dd>
<div class="desc"><p>Call condense_equilib_particle() on each particle in the aerosol
to ensure that every particle has its water content in
equilibrium.</p></div>
</dd>
<dt id="PyPartMC.histogram_1d"><code class="name flex">
<span>def <span class="ident">histogram_1d</span></span>(<span>arg0: _PyPartMC.BinGrid, arg1: List[float], arg2: List[float]) ‑> List[float]</span>
</code></dt>
<dd>
<div class="desc"><p>Return a 1D histogram with of the given weighted data, scaled by the bin sizes.</p></div>
</dd>
<dt id="PyPartMC.histogram_2d"><code class="name flex">
<span>def <span class="ident">histogram_2d</span></span>(<span>arg0: _PyPartMC.BinGrid, arg1: List[float], arg2: _PyPartMC.BinGrid, arg3: List[float], arg4: List[float]) ‑> List[List[float]]</span>
</code></dt>
<dd>
<div class="desc"><p>Return a 2D histogram with of the given weighted data, scaled by the bin sizes.</p></div>
</dd>
<dt id="PyPartMC.pow2_above"><code class="name flex">
<span>def <span class="ident">pow2_above</span></span>(<span>arg0: int) ‑> int</span>
</code></dt>
<dd>
<div class="desc"><p>Return the least power-of-2 that is at least equal to n.</p></div>
</dd>
<dt id="PyPartMC.run_part"><code class="name flex">
<span>def <span class="ident">run_part</span></span>(<span>arg0: _PyPartMC.Scenario, arg1: _PyPartMC.EnvState, arg2: _PyPartMC.AeroData, arg3: _PyPartMC.AeroState, arg4: _PyPartMC.GasData, arg5: _PyPartMC.GasState, arg6: _PyPartMC.RunPartOpt)</span>
</code></dt>
<dd>
<div class="desc"><p>Do a particle-resolved Monte Carlo simulation.</p></div>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="PyPartMC.AeroData"><code class="flex name class">
<span>class <span class="ident">AeroData</span></span>
<span>(</span><span>...)</span>
</code></dt>
<dd>
<div class="desc"><p>Aerosol material properties and associated data.</p>
<p>The data in this structure is constant, as it represents physical
quantities that cannot change over time.</p>
<p>Each aerosol species is identified by an index <tt>i =
1,&hellip;,aero_data_n_spec(aero_data)</tt>. Then \c name(i) is the name of
that species, \c density(i) is its density, etc. The ordering of the
species is arbitrary and should not be relied upon (currently it is the
order in the species data file). The only exception is that it is
possible to find out which species is water from the \c i_water
variable.</p>
<p>The names of the aerosol species are not important to PartMC, as
only the material properties are used. The names are used for
input and output, and also for communication with MOSAIC. For the
MOSAIC interface to work correctly the species must be named the
same, but without the \c _a suffix.</p>
<p><strong>init</strong>(self: _PyPartMC.AeroData, arg0: json) -&gt; None</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pybind11_builtins.pybind11_object</li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="PyPartMC.AeroData.spec_by_name"><code class="name flex">
<span>def <span class="ident">spec_by_name</span></span>(<span>self: _PyPartMC.AeroData, arg0: str) ‑> int</span>
</code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="PyPartMC.AeroState"><code class="flex name class">
<span>class <span class="ident">AeroState</span></span>
<span>(</span><span>...)</span>
</code></dt>
<dd>
<div class="desc"><p>The current collection of aerosol particles.</p>
<p>The particles in \c aero_state_t are stored in a single flat
array (the \c apa data member), with a sorting into size bins and
weight groups/classes possibly stored in the \c aero_sorted data
member (if \c valid_sort is true).</p>
<p>Every time we remove particles we keep track of the particle ID
and the action performed in the aero_info_array_t structure. This
is typically cleared each time we output data to disk.</p>
<p><strong>init</strong>(self: _PyPartMC.AeroState, arg0: float, arg1: _PyPartMC.AeroData) -&gt; None</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pybind11_builtins.pybind11_object</li>
</ul>
</dd>
<dt id="PyPartMC.BinGrid"><code class="flex name class">
<span>class <span class="ident">BinGrid</span></span>
<span>(</span><span>...)</span>
</code></dt>
<dd>
<div class="desc"><p><strong>init</strong>(self: _PyPartMC.BinGrid, arg0: float, arg1: str, arg2: float, arg3: float) -&gt; None</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pybind11_builtins.pybind11_object</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="PyPartMC.BinGrid.centers"><code class="name">var <span class="ident">centers</span></code></dt>
<dd>
<div class="desc"><p>Bin centers</p></div>
</dd>
<dt id="PyPartMC.BinGrid.edges"><code class="name">var <span class="ident">edges</span></code></dt>
<dd>
<div class="desc"><p>Bin edges</p></div>
</dd>
</dl>
</dd>
<dt id="PyPartMC.EnvState"><code class="flex name class">
<span>class <span class="ident">EnvState</span></span>
<span>(</span><span>...)</span>
</code></dt>
<dd>
<div class="desc"><p>Current environment state.</p>
<p>All quantities are instantaneous, describing the state at a
particular instant of time. Constant data and other data not
associated with the current environment state is stored in
scenario_t.</p>
<p><strong>init</strong>(self: _PyPartMC.EnvState, arg0: json) -&gt; None</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pybind11_builtins.pybind11_object</li>
</ul>
</dd>
<dt id="PyPartMC.GasData"><code class="flex name class">
<span>class <span class="ident">GasData</span></span>
<span>(</span><span>...)</span>
</code></dt>
<dd>
<div class="desc"><p>Constant gas data.</p>
<p>Each gas species is identified by an integer \c i between 1 and
\c gas_data_n_spec(gas_data). Species \c i has name \c gas_data%%name(i).
The variable gas data describing the current mixing ratios is stored
in the gas_state_t structure, so the mixing ratio of species \c i
is gas_state%%mix_rat(i).</p>
<p><strong>init</strong>(self: _PyPartMC.GasData, arg0: tuple) -&gt; None</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pybind11_builtins.pybind11_object</li>
</ul>
</dd>
<dt id="PyPartMC.GasState"><code class="flex name class">
<span>class <span class="ident">GasState</span></span>
<span>(</span><span>...)</span>
</code></dt>
<dd>
<div class="desc"><p>Current state of the gas mixing ratios in the system.</p>
<p>The gas species are defined by the gas_data_t structure, so that
\c gas_state%%mix_rat(i) is the current mixing ratio of the gas
with name \c gas_data%%name(i), etc.</p>
<p>By convention, if gas_state_is_allocated() return \c .false.,
then the gas_state is treated as zero for all operations on
it. This will be the case for new \c gas_state_t structures.</p>
<p><strong>init</strong>(self: _PyPartMC.GasState, arg0: json = {}) -&gt; None</p>
<p>instantiates and initializes from a JSON object</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pybind11_builtins.pybind11_object</li>
</ul>
</dd>
<dt id="PyPartMC.RunPartOpt"><code class="flex name class">
<span>class <span class="ident">RunPartOpt</span></span>
<span>(</span><span>...)</span>
</code></dt>
<dd>
<div class="desc"><p>Options controlling the execution of run_part().</p>
<p><strong>init</strong>(self: _PyPartMC.RunPartOpt, arg0: json) -&gt; None</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pybind11_builtins.pybind11_object</li>
</ul>
</dd>
<dt id="PyPartMC.Scenario"><code class="flex name class">
<span>class <span class="ident">Scenario</span></span>
<span>(</span><span>...)</span>
</code></dt>
<dd>
<div class="desc"><p>This is everything needed to drive the scenario being simulated.</p>
<p>The temperature, pressure, emissions and background states are profiles
prescribed as functions of time by giving a number of times and
the corresponding data. Simple data such as temperature and pressure is
linearly interpolated between times, with constant interpolation
outside of the range of times. Gases and aerosols are
interpolated with gas_state_interp_1d() and
aero_dist_interp_1d(), respectively.</p>
<p><strong>init</strong>(self: _PyPartMC.Scenario, arg0: _PyPartMC.GasData, arg1: _PyPartMC.AeroData, arg2: json) -&gt; None</p>
<p>instantiates and initializes from a JSON object</p></div>
<h3>Ancestors</h3>
<ul class="hlist">
<li>pybind11_builtins.pybind11_object</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="PyPartMC.condense_equilib_particles" href="#PyPartMC.condense_equilib_particles">condense_equilib_particles</a></code></li>
<li><code><a title="PyPartMC.histogram_1d" href="#PyPartMC.histogram_1d">histogram_1d</a></code></li>
<li><code><a title="PyPartMC.histogram_2d" href="#PyPartMC.histogram_2d">histogram_2d</a></code></li>
<li><code><a title="PyPartMC.pow2_above" href="#PyPartMC.pow2_above">pow2_above</a></code></li>
<li><code><a title="PyPartMC.run_part" href="#PyPartMC.run_part">run_part</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="PyPartMC.AeroData" href="#PyPartMC.AeroData">AeroData</a></code></h4>
<ul class="">
<li><code><a title="PyPartMC.AeroData.spec_by_name" href="#PyPartMC.AeroData.spec_by_name">spec_by_name</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="PyPartMC.AeroState" href="#PyPartMC.AeroState">AeroState</a></code></h4>
</li>
<li>
<h4><code><a title="PyPartMC.BinGrid" href="#PyPartMC.BinGrid">BinGrid</a></code></h4>
<ul class="">
<li><code><a title="PyPartMC.BinGrid.centers" href="#PyPartMC.BinGrid.centers">centers</a></code></li>
<li><code><a title="PyPartMC.BinGrid.edges" href="#PyPartMC.BinGrid.edges">edges</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="PyPartMC.EnvState" href="#PyPartMC.EnvState">EnvState</a></code></h4>
</li>
<li>
<h4><code><a title="PyPartMC.GasData" href="#PyPartMC.GasData">GasData</a></code></h4>
</li>
<li>
<h4><code><a title="PyPartMC.GasState" href="#PyPartMC.GasState">GasState</a></code></h4>
</li>
<li>
<h4><code><a title="PyPartMC.RunPartOpt" href="#PyPartMC.RunPartOpt">RunPartOpt</a></code></h4>
</li>
<li>
<h4><code><a title="PyPartMC.Scenario" href="#PyPartMC.Scenario">Scenario</a></code></h4>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>